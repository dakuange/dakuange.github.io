<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>project 1</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>CHENKUAN</h1>
          <h2>PROJECT 1</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="http://weibo.com/p/1005053876099461/home?from=page_100505&mod=TAB#place" class="button"><span>新浪微博</span></a>
        </section>

        <hr>

        <section id="main_content">
        

<h3>
<a id="information" class="anchor" href="#information" aria-hidden="true"><span class="octicon octicon-link"></span></a>DISPLAY</h3>

<p>LINE & CIRCLE.</p>
  <p><img src="https://cloud.githubusercontent.com/assets/13619951/10571405/741ea24c-7671-11e5-957f-08e44641fc43.png" alt="A boy"></p>

<h3>
<a id="about-cg" class="anchor" href="#about-cg" aria-hidden="true"><span class="octicon octicon-link"></span></a>COMMENT</h3>

<p>采用Bresenham与DDA 算法进行画线，采用教材PPT所提供思路进行画圆</p>

<h3>
<a id="project" class="anchor" href="#project" aria-hidden="true"><span class="octicon octicon-link"></span></a>CODE</h3>

<p><a href="/code1.html">代码</a>
<TEXTAREA  rows=30 cols=100>
void draw_xy(int x0, int y0);

void draw_DDA(int x0, int y0, int x1, int y1);
void draw_line(int x1, int y1, int x2, int y2);

void draw_circle(int radius, int x0, int y0);
inline void swap_int(int *a, int *b) {
	*a ^= *b;
	*b ^= *a;
	*a ^= *b;
}
int Round(float a) {
	return (a - int(a)) > 0.5 ? int(a) + 1 : int(a);
}
int main()
{
	initgraph(800, 800);
	draw_circle(100,0,0);
	draw_circle(200, 50, 50);
	draw_xy(400, 400);
    //draw_line_DDA(0,0,150,100);
	draw_line(0, 0, 500, 300);
	draw_line(0, 0, 100, 200);
	//draw_DDA(0, 0, 100, 300);
	draw_line(0,0,-100,-300);

	getch();
	closegraph();
	return 0;
}
void draw_xy(int x0, int y0) {
	for(int k = 0;k < 2*x0;k++){
		putpixel(k, y0, WHITE);
	}
	for (int i = 0;i < 2*y0;i++) {
		putpixel(x0, i, YELLOW);
	}
}
void draw_DDA(int x0, int y0, int x1, int y1) {
	x0 += 400;
	y0 += 400;
	x1 += 400;
	y1 += 400;
	if (x0 > x1) {
		int temp;
		temp = x0;
		x0 = x1;
		x1 = temp;
	}
	float y = y0;
	float x = x0;
	float m = (y1 - y0) / (float)(x1 - x0);
	if (m <= 1 || m >= -1) {
		int x;
		for (x = x0; x <= x1; x++) {
			putpixel(x, 800-Round(y), GREEN);
			y += m;
		}
	}
	else {
		int y;
		for (y = y0; y <= y1; y++) {
			putpixel(Round(x), 800-y, GREEN);
			x += 1 / m;
		}
	}
}

void draw_line( int x1, int y1, int x2, int y2) {
	x1 += 400;
	y1 += 400;
	x2 += 400;
	y2 += 400;
	
	int dx = abs(x2 - x1),
		dy = abs(y2 - y1),
		yy = 0;

	if (dx < dy) {//与x轴夹角大于45°
		yy = 1;
		swap_int(&x1, &y1);
		swap_int(&x2, &y2);
		swap_int(&dx, &dy);
	}

	int ix = (x2 - x1) > 0 ? 1 : -1,
		iy = (y2 - y1) > 0 ? 1 : -1,
		cx = x1,
		cy = y1,
		n2dy = dy * 2,
		n2dydx = (dy - dx) * 2,
		d = dy * 2 - dx;

	if (yy) { // 斜率大于一
		while (cx != x2) {
			if (d < 0) {
				d += n2dy;
			}
			else {
				cy += iy;
				d += n2dydx;
			}
			putpixel( cy, 800-cx, RED);
			cx += ix;
		}
	}
	else { // 如果直线与 x 轴的夹角小于 45 度
		while (cx != x2) {
			if (d < 0) {
				d += n2dy;
			}
			else {
				cy += iy;
				d += n2dydx;
			}
			putpixel( cx, 800-cy, BLUE);
			cx += ix;
		}
	}
}







void draw_circle(int radius, int x0, int y0) {
	int x = 0, y = radius;
	int d = 1 - radius;
	while (y>x) {
		if (d<0) 
			d += 2 * x + 3;
		else { 
			d += 2 * (x - y) + 5;
			y--;
		}
		x++;
		//没找到ppt上的方法
		putpixel(y + y0+400, x + x0+400, WHITE);
		putpixel(y0 - y+400, x + x0+400, RED);
		putpixel(y0 - y+400, x0 - x+400, GREEN);
		putpixel(y0 + y+400, x0 - x+400,BLUE);
		putpixel(x + x0+400, y + y0+400, BLUE);
		putpixel(x0 - x+400, y + y0+400, YELLOW);
		putpixel(x + x0+400, y0 - y+400, GREEN);
		putpixel(x0 - x+400, y0 - y+400, WHITE);
	}
}

</TEXTAREA>


<h3>
<a id="contact" class="anchor" href="#contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>CONTACT</h3>

<p><a href="http://www.cs.sdu.edu.cn/%7Ebaoquan/course/F15_CG.htm">课程链接</a></p>

<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with Pages? Please call 13012679016 （陈宽）</p>
        </section>

        <footer>
           山东 济南 舜华路1500山东大学 软件园校区
        </footer>

        
      </div>
    </div>
  </body>
</html>
